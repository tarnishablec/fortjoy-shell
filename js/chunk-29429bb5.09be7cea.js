(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29429bb5"],{"0a49":function(t,e,n){var i=n("9b43"),r=n("626a"),o=n("4bf8"),a=n("9def"),c=n("cd1c");t.exports=function(t,e){var n=1==t,s=2==t,u=3==t,l=4==t,f=6==t,h=5==t||f,p=e||c;return function(e,c,d){for(var b,v,y=o(e),x=r(y),m=i(c,d,3),w=a(x.length),g=0,k=n?p(e,w):s?p(e,0):void 0;w>g;g++)if((h||g in x)&&(b=x[g],v=m(b,g,y),t))if(n)k[g]=v;else if(v)switch(t){case 3:return!0;case 5:return b;case 6:return g;case 2:k.push(b)}else if(l)return!1;return f?-1:u||l?l:k}}},"20d6":function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"36bd":function(t,e,n){"use strict";var i=n("4bf8"),r=n("77f1"),o=n("9def");t.exports=function(t){var e=i(this),n=o(e.length),a=arguments.length,c=r(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,u=void 0===s?n:r(s,n);while(u>c)e[c++]=t;return e}},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"46da":function(t,e,n){},"5d73":function(t,e,n){t.exports=n("469f")},"6c7b":function(t,e,n){var i=n("5ca1");i(i.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"7d7b":function(t,e,n){var i=n("e4ae"),r=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"85f2":function(t,e,n){t.exports=n("454f")},"926e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("snake-game")},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"snake-game"},[n("div",{staticClass:"game-table"},t._l(t.gameTable,function(e,i){return n("div",{key:i,staticClass:"table-row"},t._l(e,function(t,e){return n("div",{key:e,staticClass:"table-cell",attrs:{"data-x":e,"data-y":i}})}),0)}),0),n("div")])},a=[],c=(n("6c7b"),n("20d6"),n("ac6a"),n("a745")),s=n.n(c);function u(t){if(s()(t))return t}var l=n("5d73"),f=n.n(l);function h(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=f()(t);!(i=(a=c.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(s){r=!0,o=s}finally{try{i||null==c["return"]||c["return"]()}finally{if(r)throw o}}return n}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){return u(t)||h(t,e)||p()}var b=n("85f2"),v=n.n(b);function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v()(t,i.key,i)}}function x(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n("0d6d");var w=n("9ab4"),g=n("2bd2"),k=n("f20f"),S=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return w["a"](e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k["a"];return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(g["a"]),j=n("6e77"),O=n("c575"),P=n("87d0"),A=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return w["a"](e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(P["a"]),_=n("092f"),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w["a"](e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){while(++i<r&&(t=n.shift()))t.unsubscribe();throw e}},e}(_["a"]),q=new E(A),z=n("cb70"),I=n("3060"),$=n("ce8b");function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"===typeof t[t.length-1]&&(n=t.pop());var i=t;return e.lift(new T(i,n))}}var T=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.observables,this.project))},t}(),D=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.observables=n,r.project=i,r.toRespond=[];var o=n.length;r.values=new Array(o);for(var a=0;a<o;a++)r.toRespond.push(a);for(a=0;a<o;a++){var c=n[a];r.add(Object($["a"])(r,c,c,a))}return r}return w["a"](e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(I["a"]),F=n("ebb6"),L=n("5670"),R=n("1453");function K(t,e){return function(n){return n.lift(new N(t,e))}}var N=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.compare,this.keySelector))},t}(),G=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.keySelector=i,r.hasKey=!1,"function"===typeof n&&(r.compare=n),r}return w["a"](e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(o){return this.destination.error(o)}var i=!1;if(this.hasKey)try{var r=this.compare;i=r(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))},e}(R["a"]);function J(){return function(t){return t.lift(new V)}}var V=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new B(t))},t}(),B=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return w["a"](e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(R["a"]),W=n("4b59"),Y=n("c4cc");function H(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new M(t,e))}}var M=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.predicate,this.inclusive))},t}(),Q=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.predicate=n,r.inclusive=i,r.index=0,r}return w["a"](e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(R["a"]),U=n("2ef0"),X=n.n(U),Z=Object.freeze({37:{x:-1,y:0},39:{x:1,y:0},38:{x:0,y:-1},40:{x:0,y:1}}),tt=function t(e){m(this,t),this.tableSize=e.tableSize,this.element=e.element,this.initSpeed=e.initSpeed,this.initPosition=e.initPosition,this.initDirection=e.initDirection},et=function(){function t(e){var n=this;m(this,t),this.subscriptions=[],this.config=new tt(e),this.headPositionSub=new S(e.initPosition),this.snakeNodesSub=new S([e.initPosition]),this.tableArray=st(e.tableSize),this.appleSub=new S(ut(this.tableArray,[e.initPosition])),this.snake$=this.headPositionSub.pipe(nt(this.config.tableSize,this),C(this.snakeNodesSub,this.appleSub),Object(F["a"])(function(t){var e=d(t,3),i=e[0],r=e[1],o=e[2];return ct(i,r)&&(alert("You ate yourself !!!"),n.terminate()),r.unshift(i),X.a.isEqual(i,o)?n.appleSub.next(ut(n.tableArray,r)):r.pop(),r})),this.pause$=function(t){return t.pipe(Object(L["a"])(function(t){return 32===t.which}))},this.input$=Object(j["a"])(this.config.element,"keydown").pipe(Object(F["a"])(function(t){return Z[t.which]}),Object(L["a"])(function(t){return!!t}),K(),J(),Object(L["a"])(function(t){return!(t[0].x===-t[1].x||t[0].y===-t[1].y)}),Object(F["a"])(function(t){return t[1]}),Object(W["a"])()),this.step$=Object(O["a"])(this.config.initSpeed,q).pipe(C(this.headPositionSub,this.input$,function(t,e,n){return[e,n]}),Object(Y["a"])(function(t){return console.log(t)}),Object(F["a"])(function(t){var e=d(t,2),n=e[0],i=e[1];return it(n,i)}))}return x(t,[{key:"start",value:function(){this.subscriptions.push(this.step$.subscribe(this.headPositionSub)),this.subscriptions.push(this.appleSub.subscribe(function(t){return at(t)})),this.subscriptions.push(this.snake$.subscribe(function(t){return ot(t)}))}},{key:"terminate",value:function(){console.log(this.subscriptions),this.subscriptions.forEach(function(t){t.unsubscribe()})}}],[{key:"init",value:function(e){return new t(e)}}]),t}(),nt=function(t,e){return Object(z["a"])(H(function(n){return!rt(n,t)||(alert("you hit wall !!!"),e.terminate(),!1)}))};function it(t,e){return{x:t.x+e.x,y:t.y+e.y}}function rt(t,e){return t.x>=e||t.y>=e||t.y<0||t.x<0}function ot(t){document.querySelectorAll(".table-cell").forEach(function(t){t.classList.remove("snake-body")}),t.forEach(function(t){document.querySelector(".table-cell[data-x='".concat(t.x,"'][data-y='").concat(t.y,"']")).classList.add("snake-body")})}function at(t){var e=document.querySelector(".apple");e&&e.classList.remove("apple"),document.querySelector(".table-cell[data-x='".concat(t.x,"'][data-y='").concat(t.y,"']")).classList.add("apple")}function ct(t,e){return X.a.findIndex(X.a.tail(e),function(e){return X.a.isEqual(t,e)})>=0}function st(t){for(var e=[],n=0;n<t;n++)for(var i=0;i<t;i++)e.push({x:i,y:n});return e}function ut(t,e){var n=X.a.differenceWith(t,e,X.a.isEqual);return n[X.a.random(0,n.length-1)]}var lt={name:"snakeGame",data:function(){return{tableSize:30}},computed:{gameTable:function(){return Array(this.tableSize).fill(Array(this.tableSize).fill(0))},config:function(){return{tableSize:this.tableSize,element:document,initSpeed:100,initPosition:{x:12,y:12},initDirection:{x:1,y:0}}}},mounted:function(){this.snake=et.init(this.config),this.snake.start()},beforeDestroy:function(){this.snake.terminate()}},ft=lt,ht=(n("e69d"),n("2877")),pt=Object(ht["a"])(ft,o,a,!1,null,"80c4999e",null),dt=pt.exports,bt={name:"snake",components:{snakeGame:dt}},vt=bt,yt=Object(ht["a"])(vt,i,r,!1,null,"14ea750f",null);e["default"]=yt.exports},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},e69d:function(t,e,n){"use strict";var i=n("46da"),r=n.n(i);r.a},e853:function(t,e,n){var i=n("d3f4"),r=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-29429bb5.09be7cea.js.map